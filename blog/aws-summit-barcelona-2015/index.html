<!doctype html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="sysadmin, sevilla, jerez de la frontera, bofh, linux, lpic-1
    certified, servers, debian, amazon, aws, bash, centos" />
    <title>
      
        AWS Summit Barcelona 2015
      
    </title>
    

<link
href='http://fonts.googleapis.com/css?family=Ubuntu+Condensed|Roboto+Slab:400,700|Roboto:500,400'
rel='stylesheet' type='text/css'>
    
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/mviera.io.jpg"/>
    <link href="http://mviera.io/index.xml" rel="alternate" type="application/rss+xml" title="Manuel Viera" />
    <meta name="title" content="http://mviera.io">
    <link rel="canonical" href="http://mviera.io">
    <meta property="og:title" content="Manuel Viera"/>
    <meta property="og:url" content="http://mviera.io"/>
    <meta property="og:image" content="http://mviera.io/images/mviera.io.jpg"/>   
    <meta property="og:site_name" content="Manuel Viera">
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/mviera.io.jpg" alt="Inc">
            </a>
            <a href="/blog" class="home">Blog</a>
            
            <a href="/about/">About</a>
        </nav>
        <nav class="tagline">
            
            
        </nav>
    </header>
</section>



<article>

    <div class="container">
        <header>
            <div class="meta">
                By <address><a rel="author" href="" title="Manuel Viera" target="_blank">Manuel Viera</a></address> &mdash;
                <time pubdate datetime="2015-11-12" title="2015-11-12">November 12, 2015</time>
            </div>
            <h1 class="title">AWS Summit Barcelona 2015</h1>
            
            <div class="meta">
              
              <a href="/tags/aws">#aws</a>
              
              <a href="/tags/crononauta">#crononauta</a>
              
            </div>
        </header>

        <section>
            

<p>No suelo viajar mucho por trabajo pero, desde que trabajo en Crononauta, siempre
subo a Barcelona varias veces al año. Y además de trabajar, esta vez hemos
aprovechado para asistir al <strong>AWS Summit 2015 Barcelona</strong>.</p>

<p>El evento de Amazon Web Services, tuvo lugar durante todo la jornada del Jueves
5 de Noviembre en Fira de Barcelona, Montjuïc. Nunca había estado en Fira
Barcelona, con lo cual me impresionó el edificio, el salon de actos principal y
toda la organización del evento. Especialmente el catering, que me pareció muy
bueno. La calidad de la comida era bastante buena, y en ningún momento faltó de
nada. En todo momento había snacks, zumos, agua, café y bollería.</p>

<p>En cuanto al evento, el AWS Summit Barcelona fue inaugurado por Guillem Veiga,
Head of AWS en Iberia, con una breve introducción de todo lo que íbamos a poder
ver durante la jornada.</p>

<h3 id="toc_0">AWS re:Invent 2015</h3>

<p>Luego vino <strong>Jeff Barr</strong>, el Chief Evangelist de AWS; que muchos lo conocemos
ser quien administra y publica en el blog de AWS. Quién mejor que él, que lleva
13 años trabajando en AWS, para contarnos cómo ha ido evolucionando AWS a lo
largo de estos años. Entre otras cosas nos contaba cómo en 2007 AWS sólo contaba
con tres servicios (EC2, RDS y S3), y actualmente en 2015 cuentan con más de 50
servicios, operando en 11 regiones diferentes. Jeff fue
dando paso a ponencias como la de <strong>Luis Bosque</strong> de <strong>CartoDB</strong>, que nos
explicó cómo funciona CartoDB, el volumen de datos que manejan y por qué
decidieron migrar a AWS; o los chicos de <strong>BEEVA</strong> que nos enseñaron su proyecto
de Big Data con algoritmos de Machine Learning para ofrecer información útil a
sus clientes sobre ventas de artículos por zonas, o incluso ventas de productos
relacionados con su sector.</p>

<h3 id="toc_1">AWS Security</h3>

<p>A continuación vino <strong>Bill Murray</strong>, pero no el actor de cine, sino el director
de AWS Security. Lo que más me llamó la atención de su ponencia fue la
presentación de un nuevo producto llamado <strong>Amazon Inspector</strong> que, de momento,
está en &ldquo;preview&rdquo; y sólo está disponible en la región US West (Oregon).</p>

<p><strong>Amazon Inspector</strong> te permite analizar el comportamiento de las aplicaciones que
ejecutas en AWS y te ayuda a identificar fallos potenciales de seguridad.
Básicamente te permite instalar un agente en las instancias EC2, para poder
ejecutar una serie de checks que te ayudarán a comprobar la seguridad de tu
plataforma. Bill nos enseñó algunos checks básicos como el login SSH con root.
Una vez se ejecutan estos checks, te permite realizar un análisis general de la
seguridad de la plataforma.</p>

<p>De momento este servicio está algo limitado, porque
los agentes sólo pueden ser instalados en Amazon Linux AMI 2015.03 (o
posteriores) o Ubuntu Server 14.04 LTS, de momento.</p>

<h3 id="toc_2">Todo lo que necesitas saber sobre Autoscaling</h3>

<p>Seguro que si has trabajado ya sobre AWS, esto ya te suene de algo, o al menos
ese era mi caso. Realmente el tema de Autoscaling es un servicio, sin coste
adicional, que ofrece AWS dentro de EC2; y que permite que tu infraestructura
escale horizontalmente, siempre y cuando esté preparada para ello, claro está.</p>

<p>Realmente, que una plataforma pueda escalar horizontalmente, no sólo depende de
que configuremos o no el Autoscaling en EC2. Para que una plataforma pueda
escalar horizontalmente debe estar bien diseñada, tanto a nivel de sistemas,
separando los servicios / stack de software de forma inteligente; como a nivel
de código, porque la aplicación también debe estar preparada para escalar.</p>

<p>Si tenemos bien resuelta esta parte, AWS nos proporciona los componentes
necesarios para escalar nuestra aplicación de forma más o menos sencilla,
configurando los siguientes componentes:</p>

<ul>
<li><p><strong>Launch Configuration</strong>: permite definir la &ldquo;template&rdquo; de instancia EC2 que vamos a arrancar, en
caso de que necesitemos auto escalar. Podremos definir qué AMI queremos usar, almacenamiento,
security group, etc.</p></li>

<li><p><strong>Auto Scaling Group</strong>: permite crear un grupo de Autoscaling basado en un Launch Configuration.
Básicamente podemos definir el número mínimo de instancias en el grupo de auto escalado, número
máximo de instancias, zonas de disponibilidad sobre la que vamos a operar, si queremos añadir las
instancias bajo un balanceador o ELB (Elastic Load Balancer), etc.</p></li>

<li><p><strong>CloudWatch Alarms</strong>: <strong>CloudWatch</strong> es el servicio de monitorización de AWS. Es un servicio que
no supone coste adicional, siempre que no activemos el <em>Detailed Monitoring</em>. Nos permitirá
monitorizar nuestro Autoscaling Group, y en base a las alertas que configuremos, nuestra
plataforma será capaz de lanzar nuevas instancias cuando sea necesario. Por ejemplo, podremos
arrancar un par de instancias más en el caso de que el uso de CPU del grupo de Autoscaling supere
el 80% durante 10 minutos, y volver a eliminarlas cuando la CPU del Autoscaling group baje del
40% durante 15 minutos.</p></li>
</ul>

<p>Últimamente he trabajado mucho con esto, así que seguramente le dedique un post
donde pueda entrar más en detalle.</p>

<h3 id="toc_3">Gestionando Containers a Escala</h3>

<p>En esta Live Demo se presentaba el servicio <strong>EC2 Container Service</strong>, que
permite desplegar, gestionar y escalar contenedores <strong>Docker</strong> donde ejecutar
aplicaciones, servicios o simplemente scripts para realizar cálculos.</p>

<p>En mi caso aún no tengo muchos conocimientos sobre Docker, pero si has trabajado
con él, te facilitará la gestión de clusters de contenedores en varias
instancias EC2. Aunque si esto no te gusta siempre puedes montar Docker desde
cero en una instancia EC2.</p>

<p>La demo que hizo el ponente era desplegar una página web sencilla dentro de un
cluster Docker. Podéis desplegar esta aplicación de ejemplo desde el Dashboard
de ECS.</p>

<p><strong>ECS</strong> básicamente te abstrae de todo lo referente a la administración de Docker,
y te permite definir un cluster en unos cuantos pasos sencillos. Durante estos
pasos puedes elegir la memoria asignada a cada contenedor, mapeo de puertos
que se suele hacer en Docker, usar un ELB (balanceador) para el cluster, e
incluso definir la cantidad y tipo de instancias EC2 en las que queremos
alojar el cluster.</p>

<p>En mi caso me apunto estudiar este servicio, porque la verdad es que los
conocimientos que tengo de él son bastante básicos.</p>

<h3 id="toc_4">Despliegue Continuo en AWS</h3>

<p>En esta Live Demo se presentaban tres servicios: <strong>AWS CodeCommit</strong>, <strong>AWS
CodePipeline</strong> y <strong>AWS CodeDeploy</strong>. Estos tres servicios están dentro de la
categoría de <em>Developers Tools</em> y permiten alojar código fuente, Integración
Continua y deploy de código, respectivamente. A decir verdad me perdí la demo
de los dos primeros, pero pude asistir a la de <strong>AWS CodeDeploy</strong>.</p>

<p><strong>CodeDeploy</strong> permite desplegar código fuente de forma
relativamente sencilla. En muy resumidas cuentas, este servicio se basa en tener
un agente ejecutándose en cada una de las instancias y, una vez configurado un
<em>Deployment Group</em>, es posible especificar una URL hacía un fichero zip alojado
en un Bucket de S3 o repositorio Github. Mediante un fichero de configuración,
que debe ir dentro del repositorio de código, podremos indicar al agente dónde
desplegar el código, o incluso ejecutar comandos tras realizar el deploy, en un
<em>post-hook</em>.</p>

<p><strong>CodeDeploy</strong> permite configurar cuándo un deployment se considera &ldquo;ok&rdquo; o &ldquo;fallido&rdquo;.</p>

<ul>
<li><strong>One at a Time</strong>: se considera un deployment fallido si falla en al menos una de las instancias del <em>Deployment Group</em>.</li>
<li><strong>Half at a Time</strong>: se considera fallido si falla en la mitad de las instancias del <em>Deployment Group</em>.</li>
<li><strong>All at Once</strong>: se considera deployment fallido si falla en todas las instancias del <em>Deployment Group</em>.</li>
</ul>

<p>Quizás una de las cosas que no me convencen de CodeDeploy es que se necesita
tener un agente con un puerto abierto en cada instancia, lo cual puede añadir un
punto de fallo en cuanto a seguridad; y que, si no estoy equivocado, no tiene
opción de rollback. Si algo va mal, la única opción es volver a desplegar una
versión del código que sepamos que funciona bien.</p>

<h3 id="toc_5">Utilizando Spot Instances de Amazon EC2</h3>

<p>Las spot instances han avanzado mucho desde que fueron introducidas por primera
vez. Normalmente el precio las instancias EC2, al margen del tipo de instancia
que se elija con más o menos recursos; varia en función del <em>modelo de compra</em>
de la instancia. Puede ser <em>On Demand</em>, <em>Reserved</em>, o <em>Spot Instances</em></p>

<p>Las instancias <em>On Demand</em> son las de uso más común. Simplemente cada tipo de
instancia en la modalidad de <em>On Demand</em> tienen un precio fijo. Si arrancas una
instancia <em>On Demand</em> sabes que el precio que AWS te cobra es el especificado en
la documentación, y el coste total dependerá del tiempo que esté esa instancia
en modo <em>Running</em>.</p>

<p>Pero también existe la modalidad de <em>Spot Instances</em>. Para no hacer muy pesada
la explicación, básicamente consiste en fijar el precio que te gustaría pagar
por un tipo de instancia, y en el momento en que el precio de mercado esté por
debajo del precio que hayas establecido, podrás arrancar instancias de ese tipo
a ese precio. Es como jugar a bolsa, cuando las acciones caigan por debajo de un
umbral de dinero, compro acciones.</p>

<p>La modalidad <em>Spot Instances</em> es muy llamativa a la hora de aplicarla con un
Autoscaling Group, pues podríamos conseguir ahorros bastante significativos,
arrancando <em>Spot Instances</em> cuando el precio caiga, y mientras tanto seguir
usando <em>On Demand</em>.</p>

<h3 id="toc_6">Amazon Elastic Filesystem</h3>

<p><strong>Amazon Elastic Filesystem</strong> es uno de los servicios que llevo esperando mucho tiempo. De momento, no está disponible en Ireland pero espero que lo estrenen en Europa de aquí a unos meses.</p>

<p>Uno de los principales problemas a resolver cuando trabajas en una
infraestructura con escalabilidad horizontal, es la compartición de ficheros
entre instancias. Hasta ahora mucha gente se ha configurado su propio cluster
NFS, GlusterFS, e incluso he llegado a ver soluciones que usan un Bucket S3
junto con <em>s3fs</em>, lo cual me parece muy arriesgado, porque se ha demostrado que
no funciona muy bien. Precisamente esto es lo que viene a resolver <strong>EFS</strong>.</p>

<p>Al igual que con el resto de servicios, podremos abstraernos de la creación del
cluster de ficheros y del storage de éste. En pocos minutos podemos contar con
un punto de montaje con varios Terabytes y con una SLA muy alta. Este servicio
realmente se basa en <em>NSFv4</em>. Estoy deseando poder probar este servicio en algún
proyecto, hacer pruebas de carga y ver si realmente funciona tan bien como se
espera, o si tendré que seguir usando mi propio cluster de GlusterFS para
compartir ficheros entre instancias.</p>

<p>Y creo que esto es todo, la verdad es que mola mucho asistir a este tipo de
eventos, porque no todo es resolver tickets, leer documentación, gestionar
alertas y atender clientes. En este tipo de charlas siempre se abre un poco la
mente, sobre todo escuchando las experiencias de los demás, en este caso con
AWS.</p>

<p>En breve escribiré posts relacionados con Amazon Web Services, y espero poder entrar mucho más en detalle.</p>

<p>Un saludo!</p>

<p>:wq! blog/aws-summit-barcelona-2015.md</p>

            
<div class="social">
    <div>
      <a href="https://twitter.com/share" class="twitter-share-button"  data-via="mviera" data-text="AWS Summit Barcelona 2015 [9 min read] #blog" data-related="mviera" data-url="http://mviera.io/blog/aws-summit-barcelona-2015/">Tweet</a>
    </div>
    
    
    <div>
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
    
    
    <div>
        <div class="g-plusone" data-size="medium"></div>
    </div>
    
    
    
</div>


        </section>

        <footer>
            <address>
               <img src="/images/mviera.jpg">
               <p>Written with <i class="fa fa-heart"></i> by <strong><a rel="author" href="https://twitter.com/mviera" title="Manuel Viera" target="_blank">Manuel Viera</a></strong><br>
                <span class="muted"></span>
                </p>
            </address>

        </footer>

        
        <section>
            <div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'blogmanuelviera'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

        </section>
        
    </div>
</article>

<footer class="site-footer">
    <div class="container">
        <nav>
            <a href="http://mviera.io/">Manuel Viera</a> &middot;
            <a href="/blog/">Blog</a> &middot;
            
            <a href="/about/">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/mviera" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="https://github.com/mviera" title="Follow on Github" target="_blank"><i class="icon icon-github black"></i></a>
            
            
            <a href="http://facebook.com/manuel.viera.tirado" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
                
            
            <a href="http://es.linkedin.com/in/manuelviera" title="Follow on Linkedin"
              target="_blank"><i class="fa fa-linkedin fa-lg"></i></a>
            
            
            <a href="http://instagram.com/manuel.viera" title="Follow on Instagram"
              target="_blank"><i class="fa fa-instagram fa-lg"></i></a>
             
            <a href="/index.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
    </div>
    <br />
    <br />
    <div class="container">
      <center>
        <p>Powered by <strong>Hugo</strong> &amp; hosted by <a href="https://github.com" target="_blank">
          <img src="/images/github-logo.png" width="100" height="35" alt="GitHub • Social coding">
          </a>
          | &nbsp; &nbsp; <a rel="license"
        href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img
        alt="Licencia de Creative Commons" style="border-width:0"
        src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a>
        </p>
        <p>Hecho con 
        <i class="fa fa-linux fa-lg"></i> 
        + <i class="fa fa-code fa-lg"></i>
        + <i class="fa fa-html5 fa-lg"></i>
        + <i class="fa fa-heart fa-lg"></i> 
        + <i class="fa fa-coffee fa-lg"></i>
        </p>
      <br />
     </center>
    </div>
</footer>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>


  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-21023400-1', 'auto');
  ga('send', 'pageview');

</script>







  

</body>
</html>

