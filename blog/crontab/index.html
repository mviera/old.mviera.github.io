<!doctype html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      
        Crontab
      
    </title>
    <link
    href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/main.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/mviera.io.jpg"/>
    <link href="http://blog.manuelviera.es/index.xml" rel="alternate" type="application/rss+xml" title="Manuel Viera" />
    <meta name="title" content="http://blog.manuelviera.es">
    <link rel="canonical" href="http://blog.manuelviera.es">
    <meta property="og:title" content="Manuel Viera"/>
    <meta property="og:url" content="http://blog.manuelviera.es"/>
    <meta property="og:image" content="http://blog.manuelviera.es/images/mviera.io.jpg"/>   
    <meta property="og:site_name" content="Manuel Viera">
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/mviera.io.jpg" alt="Inc">
            </a>
            <a href="/blog" class="home">Blog</a>
            
            <a href="/about/">About</a>
        </nav>
        <nav class="tagline">
            
            
        </nav>
    </header>
</section>



<article>

    <div class="container">
        <header>
            <div class="meta">
                By <address><a rel="author" href="" title="Manuel Viera" target="_blank">Manuel Viera</a></address> &mdash;
                <time pubdate datetime="2011-01-27" title="2011-01-27">January 27, 2011</time>
            </div>
            <h1 class="title">Crontab</h1>
            
            <div class="meta">
              
              <a href="/tags/cron">#cron</a>
              
            </div>
        </header>

        <section>
            <p>Hoy trabajando en <a href="http://www.yaco.es" target="_blank">Yaco
Sistemas</a> he aprendido algo nuevo sobre cron. Seguramente muchos de los que
os moveis entre GNU/Linux y similares, conoceréis el demonio cron.</p>

<p>Cron es un planificador de tareas que nos permite ejecutar una tarea en un
momento determinado en el tiempo. La sintaxis para configurar una tarea cron es
la siguiente:</p>

<pre><code>.---------------- minuto (0 - 59)
|  .------------- hora (0 - 23)
|  |  .---------- día del mes (1 - 31)
|  |  |  .------- mes (1 - 12)
|  |  |  |  .---- día de la semana (0 - 6) (Domingo=0)
|  |  |  |  |
*  *  *  *  *  comando para ser ejecutado
</code></pre>

<p>De esta forma, imaginad que queremos apagar nuestro ordenador los sábados a las
21:30h, configuraríamos una tarea cron de la siguiente forma:</p>

<pre><code>30 21 * * 6 /sbin/shutdown -h now
</code></pre>

<p>Podemos planificar tareas para un usuario utilizando el comando <strong>crontab</strong>:</p>

<ul>
<li><strong>crontab -l</strong> Lista las tareas cron para el usuario actual.</li>
<li><strong>crontab -e</strong> Permite configurar una tarea cron para el usuario actual. Se abrirá el editor de texto configurado por defecto en el sistema.</li>
<li><strong>crontab -r</strong> Elimina las tareas cron configuradas en el usuario actual.</li>
<li><strong>crontab -v</strong> Muestra la última vez que se editó crontab del usuario actual.</li>
</ul>

<p>La verdad es que no parece una sintaxis muy complicada pero a mi,
personalmente, siempre se me olvida.</p>

<p>Como os decía al principio, hoy he descubierto los <strong>horarios
predefinidos</strong> en crontab gracias a <a href="http://www.ant30.es/"
target="_blank">ant30</a>. Estos horarios predefinidos son unos valores que se
pueden usar para sustituir la sintaxis de las expresiones anteriores. Estos
valores predefinidos son:</p>

<ul>
<li><strong>@yearly</strong> Se ejecuta una vez al año. Equivalente a <code>0 0 1 1 *</code></li>
<li><strong>@annually</strong> (igual que @yearly). Equivalente a <code>0 0 1 1 *</code></li>
<li><strong>@monthly</strong> Se ejecuta una vez al mes. Equivalente a <code>0 0 1 * *</code></li>
<li><strong>@weekly</strong> Se ejecuta una vez a la semana. Equivalente a <code>0 0 * * 0</code></li>
<li><strong>@daily</strong> Se ejecuta una vez al día. Equivalente a <code>0 0 * * *</code></li>
<li><strong>@midnight </strong>(igual que @daily). Equivalente a <code>0 0 * * *</code></li>
<li><strong>@hourly</strong> Se ejecuta una vez cada hora. Equivalente a <code>0 * * * *</code></li>
<li><strong>@reboot</strong> Se ejecuta en el arranque y al reiniciar.</li>
</ul>

<p>El que yo he utilizado hoy ha sido <strong>@reboot</strong> que me permite
ejecutar un comando cuando arranca el sistema. En mi caso quería que cada vez
que se arranque el sistema, se iniciara un servicio desplegado con el usuario
en cuestión. Gracias a <strong>@reboot</strong> no tengo que crear un script en
<code>/etc/init.d/</code> y activarlo en el arranque ;-)</p>

<p>Un saludo!</p>

            
<div class="social">
    <div>
      <a href="https://twitter.com/share" class="twitter-share-button"  data-via="mviera" data-text="Crontab [2 min read] #blog" data-related="mviera" data-url="http://blog.manuelviera.es/blog/crontab/">Tweet</a>
    </div>
    
    
    <div>
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
    
    
    <div>
        <div class="g-plusone" data-size="medium"></div>
    </div>
    
    
    
</div>


        </section>

        <footer>
            <address>
               <img src="/images/mviera.jpg">
                <p>Written by <strong><a rel="author" href="https://twitter.com/mviera" title="Manuel Viera" target="_blank">Manuel Viera</a></strong><br>
                <span class="muted"></span>
                </p>
            </address>

        </footer>

        
        <section>
            <div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'blogmanuelviera'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

        </section>
        
    </div>
</article>

<footer class="site-footer">
    <div class="container">
        <nav>
            <a href="http://mviera.io/">Manuel Viera</a> &middot;
            <a href="/blog/">Blog</a> &middot;
            
            <a href="/about/">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/mviera" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="https://github.com/mviera" title="Follow on Github" target="_blank"><i class="icon icon-github black"></i></a>
            
            
            <a href="http://facebook.com/manuel.viera.tirado" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
                
            
            <a href="http://es.linkedin.com/in/manuelviera" title="Follow on Linkedin"
              target="_blank"><i class="fa fa-linkedin fa-lg"></i></a>
            
            
            <a href="http://instagram.com/manuel.viera" title="Follow on Instagram"
              target="_blank"><i class="fa fa-instagram fa-lg"></i></a>
             
            <a href="/index.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
    </div>
    <br />
    <br />
    <div class="container">
      <center>
        <p>Powered by <strong>Hugo</strong> &amp; hosted by <a href="https://github.com" target="_blank">
          <img src="/images/github-logo.png" width="100" height="35" alt="GitHub • Social coding">
          </a>
          | &nbsp; &nbsp; <a rel="license"
        href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img
        alt="Licencia de Creative Commons" style="border-width:0"
        src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a>
        </p>
        <p>Hecho con 
        <i class="fa fa-linux fa-lg"></i> 
        + <i class="fa fa-code fa-lg"></i>
        + <i class="fa fa-html5 fa-lg"></i>
        + <i class="fa fa-heart fa-lg"></i> 
        + <i class="fa fa-coffee fa-lg"></i>
        </p>
      <br />
     </center>
    </div>
</footer>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>


  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-21023400-1', 'auto');
  ga('send', 'pageview');

</script>







  

</body>
</html>

